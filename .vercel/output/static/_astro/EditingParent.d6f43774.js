import{R as o}from"./index.f824fa59.js";import{F as N,i as y}from"./index.10cbaf40.js";import{j as a}from"./jsx-runtime.0209ad28.js";function A(){const[l,i]=o.useState({type:"",occasion:"",photo:"",details:!1}),[f,x]=o.useState({type:"",occasion:"",photo:"",details:!1}),[p,S]=o.useState({}),[g,k]=o.useState(!1),[w,L]=o.useState([{name:"Concert",selected:!1},{name:"Street & Landscape",selected:!1}]),[u,m]=o.useState([]),[O,d]=o.useState([]),[n,h]=o.useState({}),v=["concert","streetlandscape"];o.useEffect(()=>{(async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{S(t.data)}).catch(t=>console.log(t))})().then(()=>{k(!0)})},[]);const $=s=>{s!==l.type&&(i(r=>{const e={...r};return e.type=v[s],e.occasion="",e.photo="",e.details=!1,e}),x(r=>{const e={...r};return e.type=w[s].name,e.occasion="",e.photo="",e.details=!1,e}),m([]),d([]),h({})),L(r=>{const e=[...r];for(let c of e)c.name===e[s].name?c.selected=!0:c.selected=!1;return e});let t=[];for(let r in p[v[s]].index)t.push({[r]:p[v[s]].index[r],selected:!1});m(t)},C=(s,t)=>{s!==l.occasion&&(i(e=>{const c={...e};return c.occasion=s,c.photo="",c.details=!1,c}),console.log(u),x(e=>{const c={...e};return c.occasion=t,c.photo="",c.details=!1,c}),d([]),h({})),m(e=>{const c=[...e];for(let j of c)s===Object.keys(j)[0]?j.selected=!0:j.selected=!1;return c});let r=[];for(let e of p[l.type].keys[s])e.selected=!1,r.push(e);d(r)},P=(s,t)=>{s!==l.photo&&(i(r=>{const e={...r};return e.photo=s,e.details=!1,e}),x(r=>{const e={...r};return e.photo=s,e.details=!1,e}),h({})),d(r=>{const e=[...r];for(let c of e)s===Object.keys(c)[0]?c.selected=!0:c.selected=!1;return e}),i(r=>{const e={...r};return e.details=!0,e}),h({caption:t.caption,date:t.date,url:t.url,webp_url:t.webp_url,artist:t.artist,venue:t.venue})},T=()=>{i(s=>{const t={...s};return t.occasion="",t.photo="",t.details=!1,t}),x(s=>{const t={...s};return t.occasion="",t.photo="",t.details=!1,t}),m([]),d([]),h({})},b=()=>{i(s=>{const t={...s};return t.photo="",t.details=!1,t}),console.log(u),x(s=>{const t={...s};return t.photo="",t.details=!1,t}),d([]),h({})};return g?a.jsxs("div",{className:"",children:[a.jsxs("div",{className:"flex h-8 flex-row",children:[f.type&&a.jsxs("div",{className:"flex flex-row ",children:[a.jsx("div",{onClick:T,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${f.type}`}),a.jsx("div",{className:"px-2",children:"/"})]}),f.occasion&&a.jsxs("div",{className:"flex flex-row",children:[a.jsx("div",{onClick:b,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${f.occasion}`}),a.jsx("div",{className:"px-2",children:"/"})]}),a.jsx("div",{className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:f.photo})]}),a.jsxs("div",{className:"mt-2 flex flex-row overflow-x-scroll ",children:[a.jsx("div",{className:"flex flex-col items-stretch",children:w.map((s,t)=>a.jsxs("div",{className:`${s.selected&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>$(t),children:[a.jsx("div",{className:"mr-4 text-lg",children:s.name}),a.jsx("div",{className:"w-4",children:a.jsx(N,{icon:y,className:`${!s.selected&&"hidden"} text-sm`})})]},t))}),a.jsx("div",{className:"ml-4 flex flex-col items-stretch",children:u.map((s,t)=>{var r=Object.keys(s)[0],e=s[r],c=s[Object.keys(s)[1]];return a.jsxs("div",{className:`${c&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{C(r,e)},children:[a.jsx("div",{className:"mr-4 text-lg",children:e}),a.jsx("div",{className:"w-4",children:a.jsx(N,{icon:y,className:`${!c&&"hidden"} text-sm`})})]},t)})}),a.jsx("div",{className:"ml-4 flex flex-col items-stretch",children:O.map((s,t)=>{var r=Object.keys(s)[0],e=s[r],c=s.selected;return a.jsx("div",{className:`${c&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{P(r,e)},children:a.jsx("div",{className:"mr-4 text-lg",children:r})},t)})}),a.jsxs("div",{className:`${!l.details&&"hidden"} ml-4`,children:[a.jsx("div",{className:"w-64",children:a.jsx("img",{src:n.webp_url,alt:n.caption,className:"h-full w-full"})}),a.jsxs("div",{children:["Caption: ",n.caption]}),a.jsxs("div",{children:["Date: ",n.date]}),l.type==="concert"?a.jsxs("div",{children:[a.jsxs("div",{children:["Artist: ",n.artist]}),a.jsxs("div",{children:["Venue: ",n.venue]})]}):a.jsxs("div",{children:["Place: ",n.venue]})]})]})]}):a.jsx("div",{className:"mt-4",children:"Loading..."})}export{A as default};
