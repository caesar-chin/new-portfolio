import{r as v,R as k}from"./index.f824fa59.js";import{F as ae,i as gt,d as ht,p as j,f as yt,j as xt,k as Ke}from"./index.bb83cae9.js";import{j as a}from"./jsx-runtime.0209ad28.js";function vt({typeName:e,occasionBool:t,occasionName:r,downloadJsonFiles:n,selectNewOccasion:s}){const o=v.useRef(null),[d,m]=v.useState(!1),x=b=>{m(b)},g=async b=>{b.preventDefault(),t&&await fetch("https://portfolio-website-api-production.up.railway.app/add_occasion",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e.toLowerCase(),occasion:o.current?.value})}).then(w=>w.json()).then(async w=>{w.status>=400?console.log("Error adding new occasion"):(console.log(w),console.log("Successfully added new occasion"),await n(),s(w.occasion_name,w.occasion_key),x(!1))})};return v.useEffect(()=>{d&&o.current&&o.current.focus()},[d]),a.jsxs("div",{children:[d&&a.jsx("div",{children:a.jsxs("form",{onSubmit:g,children:[a.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",ref:o,type:"text",placeholder:`New ${t?"Occaison":"Photo"}`}),a.jsx("button",{type:"submit",children:a.jsx(ae,{icon:gt,className:"text-md mr-2 cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})}),a.jsx(ae,{icon:ht,onClick:()=>x(!1),className:"text-md cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})]})}),a.jsx("div",{onClick:()=>x(!0),className:"mb-1 mr-4 flex cursor-pointer flex-row items-center justify-between text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"+ Add New "})]})}function oe(e,t,r,n){function s(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function m(b){try{g(n.next(b))}catch(w){d(w)}}function x(b){try{g(n.throw(b))}catch(w){d(w)}}function g(b){b.done?o(b.value):s(b.value).then(m,x)}g((n=n.apply(e,t||[])).next())})}function se(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(b){return x([g,b])}}function x(g){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(n=1,s&&(o=g[0]&2?s.return:g[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,g[1])).done)return o;switch(s=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(g[0]===6&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(b){g=[6,b],s=0}finally{n=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function He(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],d;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(m){d={error:m}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(d)throw d.error}}return o}function We(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var bt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ue(e,t){var r=wt(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function wt(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),s=bt.get(n);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var jt=[".DS_Store","Thumbs.db"];function kt(e){return oe(this,void 0,void 0,function(){return se(this,function(t){return ye(e)&&Dt(e.dataTransfer)?[2,St(e.dataTransfer,e.type)]:At(e)?[2,Nt(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,Ot(e)]:[2,[]]})})}function Dt(e){return ye(e)}function At(e){return ye(e)&&ye(e.target)}function ye(e){return typeof e=="object"&&e!==null}function Nt(e){return Ce(e.target.files).map(function(t){return ue(t)})}function Ot(e){return oe(this,void 0,void 0,function(){var t;return se(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return ue(n)})]}})})}function St(e,t){return oe(this,void 0,void 0,function(){var r,n;return se(this,function(s){switch(s.label){case 0:return e.items?(r=Ce(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Ct))]):[3,2];case 1:return n=s.sent(),[2,Be(tt(n))];case 2:return[2,Be(Ce(e.files).map(function(o){return ue(o)}))]}})})}function Be(e){return e.filter(function(t){return jt.indexOf(t.name)===-1})}function Ce(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Ct(e){if(typeof e.webkitGetAsEntry!="function")return Ge(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?rt(t):Ge(e)}function tt(e){return e.reduce(function(t,r){return We(We([],He(t),!1),He(Array.isArray(r)?tt(r):[r]),!1)},[])}function Ge(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=ue(t);return Promise.resolve(r)}function Et(e){return oe(this,void 0,void 0,function(){return se(this,function(t){return[2,e.isDirectory?rt(e):Ft(e)]})})}function rt(e){var t=e.createReader();return new Promise(function(r,n){var s=[];function o(){var d=this;t.readEntries(function(m){return oe(d,void 0,void 0,function(){var x,g,b;return se(this,function(w){switch(w.label){case 0:if(m.length)return[3,5];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return x=w.sent(),r(x),[3,4];case 3:return g=w.sent(),n(g),[3,4];case 4:return[3,6];case 5:b=Promise.all(m.map(Et)),s.push(b),o(),w.label=6;case 6:return[2]}})})},function(m){n(m)})}o()})}function Ft(e){return oe(this,void 0,void 0,function(){return se(this,function(t){return[2,new Promise(function(r,n){e.file(function(s){var o=ue(s,e.fullPath);r(o)},function(s){n(s)})})]})})}var _t=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return r.some(function(d){var m=d.trim().toLowerCase();return m.charAt(0)==="."?n.toLowerCase().endsWith(m):m.endsWith("/*")?o===m.replace(/\/.*$/,""):s===m})}return!0};function Ve(e){return Lt(e)||Tt(e)||at(e)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lt(e){if(Array.isArray(e))return Ee(e)}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(r),!0).forEach(function(n){nt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e,t){return $t(e)||It(e,t)||at(e,t)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(e,t){if(e){if(typeof e=="string")return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,t)}}function Ee(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function It(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,o=!1,d,m;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(n.push(d.value),!(t&&n.length===t));s=!0);}catch(x){o=!0,m=x}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw m}}return n}}function $t(e){if(Array.isArray(e))return e}var Mt="file-invalid-type",zt="file-too-large",Ut="file-too-small",Kt="too-many-files",Ht=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Mt,message:"File type must be ".concat(r)}},qe=function(t){return{code:zt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Xe=function(t){return{code:Ut,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wt={code:Kt,message:"Too many files"};function ot(e,t){var r=e.type==="application/x-moz-file"||_t(e,t);return[r,r?null:Ht(t)]}function st(e,t,r){if(X(e.size))if(X(t)&&X(r)){if(e.size>r)return[!1,qe(r)];if(e.size<t)return[!1,Xe(t)]}else{if(X(t)&&e.size<t)return[!1,Xe(t)];if(X(r)&&e.size>r)return[!1,qe(r)]}return[!0,null]}function X(e){return e!=null}function Bt(e){var t=e.files,r=e.accept,n=e.minSize,s=e.maxSize,o=e.multiple,d=e.maxFiles,m=e.validator;return!o&&t.length>1||o&&d>=1&&t.length>d?!1:t.every(function(x){var g=ot(x,r),b=le(g,1),w=b[0],K=st(x,n,s),F=le(K,1),_=F[0],P=m?m(x):null;return w&&_&&!P})}function xe(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function he(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Qe(e){e.preventDefault()}function Gt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Vt(e){return e.indexOf("Edge/")!==-1}function Jt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Gt(e)||Vt(e)}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),d=1;d<s;d++)o[d-1]=arguments[d];return t.some(function(m){return!xe(n)&&m&&m.apply(void 0,[n].concat(o)),xe(n)})}}function Yt(){return"showOpenFilePicker"in window}function qt(e){if(X(e)){var t=Object.entries(e).filter(function(r){var n=le(r,2),s=n[0],o=n[1],d=!0;return it(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(o)||!o.every(ct))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(r,n){var s=le(n,2),o=s[0],d=s[1];return Ye(Ye({},r),{},nt({},o,d))},{});return[{description:"Files",accept:t}]}return e}function Xt(e){if(X(e))return Object.entries(e).reduce(function(t,r){var n=le(r,2),s=n[0],o=n[1];return[].concat(Ve(t),[s],Ve(o))},[]).filter(function(t){return it(t)||ct(t)}).join(",")}function Qt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Zt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function it(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ct(e){return/^.*\.[\w]+$/.test(e)}var er=["children"],tr=["open"],rr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nr=["refKey","onChange","onClick"];function ar(e){return ir(e)||sr(e)||lt(e)||or()}function or(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ir(e){if(Array.isArray(e))return Fe(e)}function Se(e,t){return ur(e)||lr(e,t)||lt(e,t)||cr()}function cr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lt(e,t){if(e){if(typeof e=="string")return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(e,t)}}function Fe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,o=!1,d,m;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(n.push(d.value),!(t&&n.length===t));s=!0);}catch(x){o=!0,m=x}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw m}}return n}}function ur(e){if(Array.isArray(e))return e}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(r),!0).forEach(function(n){_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){if(e==null)return{};var r=fr(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fr(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Te=v.forwardRef(function(e,t){var r=e.children,n=ve(e,er),s=Le(n),o=s.open,d=ve(s,tr);return v.useImperativeHandle(t,function(){return{open:o}},[o]),k.createElement(v.Fragment,null,r(A(A({},d),{},{open:o})))});Te.displayName="Dropzone";var ut={disabled:!1,getFilesFromEvent:kt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Te.defaultProps=ut;Te.propTypes={children:j.func,accept:j.objectOf(j.arrayOf(j.string)),multiple:j.bool,preventDropOnDocument:j.bool,noClick:j.bool,noKeyboard:j.bool,noDrag:j.bool,noDragEventsBubbling:j.bool,minSize:j.number,maxSize:j.number,maxFiles:j.number,disabled:j.bool,getFilesFromEvent:j.func,onFileDialogCancel:j.func,onFileDialogOpen:j.func,useFsAccessApi:j.bool,autoFocus:j.bool,onDragEnter:j.func,onDragLeave:j.func,onDragOver:j.func,onDrop:j.func,onDropAccepted:j.func,onDropRejected:j.func,onError:j.func,validator:j.func};var Pe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Le(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=A(A({},ut),e),r=t.accept,n=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,d=t.minSize,m=t.multiple,x=t.maxFiles,g=t.onDragEnter,b=t.onDragLeave,w=t.onDragOver,K=t.onDrop,F=t.onDropAccepted,_=t.onDropRejected,P=t.onFileDialogCancel,$=t.onFileDialogOpen,Q=t.useFsAccessApi,H=t.autoFocus,W=t.preventDropOnDocument,B=t.noClick,V=t.noKeyboard,T=t.noDrag,I=t.noDragEventsBubbling,G=t.onError,R=t.validator,M=v.useMemo(function(){return Xt(r)},[r]),Y=v.useMemo(function(){return qt(r)},[r]),z=v.useMemo(function(){return typeof $=="function"?$:et},[$]),J=v.useMemo(function(){return typeof P=="function"?P:et},[P]),S=v.useRef(null),E=v.useRef(null),ie=v.useReducer(dr,Pe),Z=Se(ie,2),q=Z[0],p=Z[1],i=q.isFocused,c=q.isFileDialogActive,f=v.useRef(typeof window<"u"&&window.isSecureContext&&Q&&Yt()),l=function(){!f.current&&c&&setTimeout(function(){if(E.current){var h=E.current.files;h.length||(p({type:"closeDialog"}),J())}},300)};v.useEffect(function(){return window.addEventListener("focus",l,!1),function(){window.removeEventListener("focus",l,!1)}},[E,c,J,f]);var y=v.useRef([]),N=function(h){S.current&&S.current.contains(h.target)||(h.preventDefault(),y.current=[])};v.useEffect(function(){return W&&(document.addEventListener("dragover",Qe,!1),document.addEventListener("drop",N,!1)),function(){W&&(document.removeEventListener("dragover",Qe),document.removeEventListener("drop",N))}},[S,W]),v.useEffect(function(){return!n&&H&&S.current&&S.current.focus(),function(){}},[S,H,n]);var D=v.useCallback(function(u){G?G(u):console.error(u)},[G]),ee=v.useCallback(function(u){u.preventDefault(),u.persist(),me(u),y.current=[].concat(ar(y.current),[u.target]),he(u)&&Promise.resolve(s(u)).then(function(h){if(!(xe(u)&&!I)){var O=h.length,C=O>0&&Bt({files:h,accept:M,minSize:d,maxSize:o,multiple:m,maxFiles:x,validator:R}),L=O>0&&!C;p({isDragAccept:C,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),g&&g(u)}}).catch(function(h){return D(h)})},[s,g,D,I,M,d,o,m,x,R]),Re=v.useCallback(function(u){u.preventDefault(),u.persist(),me(u);var h=he(u);if(h&&u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return h&&w&&w(u),!1},[w,I]),Ie=v.useCallback(function(u){u.preventDefault(),u.persist(),me(u);var h=y.current.filter(function(C){return S.current&&S.current.contains(C)}),O=h.indexOf(u.target);O!==-1&&h.splice(O,1),y.current=h,!(h.length>0)&&(p({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),he(u)&&b&&b(u))},[S,b,I]),fe=v.useCallback(function(u,h){var O=[],C=[];u.forEach(function(L){var ce=ot(L,M),ne=Se(ce,2),we=ne[0],je=ne[1],ke=st(L,d,o),ge=Se(ke,2),De=ge[0],Ae=ge[1],Ne=R?R(L):null;if(we&&De&&!Ne)O.push(L);else{var Oe=[je,Ae];Ne&&(Oe=Oe.concat(Ne)),C.push({file:L,errors:Oe.filter(function(mt){return mt})})}}),(!m&&O.length>1||m&&x>=1&&O.length>x)&&(O.forEach(function(L){C.push({file:L,errors:[Wt]})}),O.splice(0)),p({acceptedFiles:O,fileRejections:C,type:"setFiles"}),K&&K(O,C,h),C.length>0&&_&&_(C,h),O.length>0&&F&&F(O,h)},[p,m,M,d,o,x,K,F,_,R]),de=v.useCallback(function(u){u.preventDefault(),u.persist(),me(u),y.current=[],he(u)&&Promise.resolve(s(u)).then(function(h){xe(u)&&!I||fe(h,u)}).catch(function(h){return D(h)}),p({type:"reset"})},[s,fe,D,I]),te=v.useCallback(function(){if(f.current){p({type:"openDialog"}),z();var u={multiple:m,types:Y};window.showOpenFilePicker(u).then(function(h){return s(h)}).then(function(h){fe(h,null),p({type:"closeDialog"})}).catch(function(h){Qt(h)?(J(h),p({type:"closeDialog"})):Zt(h)?(f.current=!1,E.current?(E.current.value=null,E.current.click()):D(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):D(h)});return}E.current&&(p({type:"openDialog"}),z(),E.current.value=null,E.current.click())},[p,z,J,Q,fe,D,Y,m]),$e=v.useCallback(function(u){!S.current||!S.current.isEqualNode(u.target)||(u.key===" "||u.key==="Enter"||u.keyCode===32||u.keyCode===13)&&(u.preventDefault(),te())},[S,te]),Me=v.useCallback(function(){p({type:"focus"})},[]),ze=v.useCallback(function(){p({type:"blur"})},[]),Ue=v.useCallback(function(){B||(Jt()?setTimeout(te,0):te())},[B,te]),re=function(h){return n?null:h},be=function(h){return V?null:re(h)},pe=function(h){return T?null:re(h)},me=function(h){I&&h.stopPropagation()},ft=v.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=u.refKey,O=h===void 0?"ref":h,C=u.role,L=u.onKeyDown,ce=u.onFocus,ne=u.onBlur,we=u.onClick,je=u.onDragEnter,ke=u.onDragOver,ge=u.onDragLeave,De=u.onDrop,Ae=ve(u,rr);return A(A(_e({onKeyDown:be(U(L,$e)),onFocus:be(U(ce,Me)),onBlur:be(U(ne,ze)),onClick:re(U(we,Ue)),onDragEnter:pe(U(je,ee)),onDragOver:pe(U(ke,Re)),onDragLeave:pe(U(ge,Ie)),onDrop:pe(U(De,de)),role:typeof C=="string"&&C!==""?C:"presentation"},O,S),!n&&!V?{tabIndex:0}:{}),Ae)}},[S,$e,Me,ze,Ue,ee,Re,Ie,de,V,T,n]),dt=v.useCallback(function(u){u.stopPropagation()},[]),pt=v.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=u.refKey,O=h===void 0?"ref":h,C=u.onChange,L=u.onClick,ce=ve(u,nr),ne=_e({accept:M,multiple:m,type:"file",style:{display:"none"},onChange:re(U(C,de)),onClick:re(U(L,dt)),tabIndex:-1},O,E);return A(A({},ne),ce)}},[E,r,m,de,n]);return A(A({},q),{},{isFocused:i&&!n,getRootProps:ft,getInputProps:pt,rootRef:S,inputRef:E,open:re(te)})}function dr(e,t){switch(t.type){case"focus":return A(A({},e),{},{isFocused:!0});case"blur":return A(A({},e),{},{isFocused:!1});case"openDialog":return A(A({},Pe),{},{isFileDialogActive:!0});case"closeDialog":return A(A({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return A(A({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return A(A({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return A({},Pe);default:return e}}function et(){}function pr({photosList:e,handlePhotoSelect:t,displayAcceptedFiles:r}){const{getRootProps:n,getInputProps:s,isDragActive:o}=Le({noClick:!0,accept:{"image/*":[]},onDropAccepted:d=>{r(d.map(m=>Object.assign(m,{preview:URL.createObjectURL(m)})))}});return a.jsxs("div",{...n(),className:`relative ${o&&""}`,children:[a.jsx("input",{...s()}),a.jsx("div",{className:`${o&&"invisible"}`,children:e.map((d,m)=>{var x=Object.keys(d)[0],g=d[x],b=d.selected;return a.jsx("div",{className:`${b&&"text-sea-foam-green dark:text-dark-grayish-red"} mb-1 flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{t(x,g)},children:a.jsx("div",{className:"mr-4 text-lg",children:x})},m)})}),a.jsx("div",{onClick:()=>r([]),className:"mb-1 mr-4 flex cursor-pointer flex-row items-center justify-between text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"+ Add New Photo"}),o&&a.jsx("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center bg-black bg-opacity-50 text-center",children:"Drop Here To Upload Photos"})]})}function mr({handleUploadModule:e,listAcceptedFiles:t,selectedOccasionKey:r,selectedOccasionName:n,selectedOccasionType:s,addingMorePhotosToListAcceptedFiles:o,downloadJsonFiles:d,removePhotoFromListAcceptedFiles:m}){const[x,g]=k.useState(""),[b,w]=k.useState(""),[K,F]=k.useState(""),[_,P]=k.useState(""),[$,Q]=k.useState(!1),[H,W]=k.useState(!1),[B,V]=k.useState(!1),[T,I]=k.useState(!1),[G,R]=k.useState(t.map(p=>({[p.name]:{preview:p.preview,artist:"",venue:"",caption:"",date:""}}))),[M,Y]=k.useState(!1),z=(p,i,c)=>{R(f=>f.map(l=>Object.keys(l)[0]===p?{...l,[p]:{...l[p],[i]:c}}:l))},J=async()=>{Y(!0);const p=new FormData;t.forEach((c,f)=>{p.append(`file${f+1}`,c)});var i=[];($||H||B||T)&&(i=G.map(c=>{const f=Object.keys(c)[0];return{[f]:{artist:$?x:c[f].artist,venue:H?b:c[f].venue,caption:B?K:c[f].caption,date:T?_:c[f].date}}})),p.append("metadata",JSON.stringify(i)),p.append("occasionObject",JSON.stringify({selectedOccasionKey:r,selectedOccasionType:s})),await fetch("https://portfolio-website-api-production.up.railway.app/upload",{method:"POST",credentials:"include",headers:{},body:p}).then(c=>c.json()).then(c=>{c.success===200&&(d(),e(!1))}).catch(c=>{console.log(c)})};k.useEffect(()=>{console.log(r),console.log(n),console.log(s)},[r,n]);const S=p=>{R(i=>i.filter((c,f)=>f!==p))},{getRootProps:E,getInputProps:ie,isDragActive:Z,open:q}=Le({noClick:!0,accept:{"image/*":[]},onDropAccepted:p=>{console.log(p);const i=p.filter(c=>!t.some(f=>f.name===c.name));o(i.map(c=>Object.assign(c,{preview:URL.createObjectURL(c)}))),R(c=>{const f=i.map(l=>({[l.name]:{preview:l.preview,artist:"",venue:"",caption:"",date:""}}));return[...c,...f]})}});return a.jsxs("div",{className:"relative m-auto h-5/6 w-5/6 overflow-y-auto rounded bg-white p-6 dark:bg-gray-200",...E(),children:[a.jsx("input",{...ie()}),Z&&a.jsx("div",{className:"absolute left-0 top-0 z-10 h-full w-full bg-white text-center text-3xl dark:bg-gray-200",children:"Drop Here to Upload"}),a.jsxs("div",{id:"module",className:"relative z-0",children:[a.jsxs("div",{className:"mb-2 flex flex-row justify-between",children:[a.jsx("div",{className:"text-xl",children:`Uploading to ${n}`}),a.jsx(ae,{className:"cursor-pointer text-3xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",icon:yt,onClick:p=>{p.stopPropagation(),e(!1)}})]}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsxs("div",{className:"w-auto",children:[a.jsx("div",{children:"Apply to all"}),a.jsxs("div",{className:"mb-2 flex w-min flex-col justify-center",children:[a.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[a.jsx("div",{className:"mr-4",children:a.jsx("input",{type:"checkbox",onChange:p=>{Q(p.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),a.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[a.jsx("label",{className:"text-md mr-4 block",children:"Artist:"}),a.jsx("input",{type:"text",id:"Artist",onChange:p=>g(p.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),a.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[a.jsx("div",{className:"mr-4",children:a.jsx("input",{type:"checkbox",onChange:p=>{W(p.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),a.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[a.jsx("label",{className:"text-md mr-4 block",children:"Venue:"}),a.jsx("input",{type:"text",id:"Venue",onChange:p=>w(p.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),a.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[a.jsx("div",{className:"mr-4",children:a.jsx("input",{type:"checkbox",onChange:p=>{V(p.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),a.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[a.jsx("label",{className:"text-md mr-4 block",children:"Caption:"}),a.jsx("input",{type:"text",id:"Caption",onChange:p=>F(p.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),a.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[a.jsx("div",{className:"mr-4",children:a.jsx("input",{type:"checkbox",onChange:p=>{I(p.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),a.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[a.jsx("label",{className:"text-md mr-4 block",children:"Date:"}),a.jsx("input",{type:"text",id:"Date",onChange:p=>P(p.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]})]})]}),G.map((p,i)=>{console.log(p);const c=p[Object.keys(p)[0]],f=Object.keys(p)[0];return a.jsxs("div",{className:`flex flex-col py-8 ${G.length>1&&"border-b-2  border-sea-foam-green border-opacity-50 dark:border-dark-grayish-red dark:border-opacity-50"}`,children:[a.jsxs("div",{className:"flex flex-row justify-between ",children:[a.jsx("div",{className:"mb-4 text-xl",children:f}),a.jsx("div",{className:"mb-4 cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red",onClick:()=>{m(i),S(i)},children:"Remove"})]}),a.jsxs("div",{className:"flex flex-row items-center",children:[a.jsx("div",{children:a.jsx("div",{className:"border-2 border-sea-foam-green border-opacity-50 dark:border-dark-grayish-red",children:a.jsx("img",{src:c.preview,onLoad:()=>{URL.revokeObjectURL(c.preview)},className:"w-80 object-scale-down"})})}),a.jsxs("div",{className:"ml-2",children:[a.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[a.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Artist:"}),a.jsx("input",{type:"text",id:`Artist-${i}`,disabled:$,value:c.artist,onChange:l=>{z(f,"artist",l.target.value)},className:`${$?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red`})]}),a.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[a.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Venue:"}),a.jsx("input",{type:"text",id:`Venue-${i}`,disabled:H,value:c.venue,onChange:l=>{z(f,"venue",l.target.value)},className:`${H?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]}),a.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[a.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Caption:"}),a.jsx("input",{type:"text",id:`Caption-${i}`,disabled:B,value:c.caption,onChange:l=>{z(f,"caption",l.target.value)},className:`${B?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]}),a.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[a.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Date:"}),a.jsx("input",{type:"text",id:`Date-${i}`,disabled:T,value:c.date,onChange:l=>{z(f,"date",l.target.value)},className:`${T?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]})]})]})]},f)}),t.length!==0&&a.jsxs("div",{className:"mt-4 flex flex-row gap-4",children:[M?a.jsxs("div",{className:"flex items-center space-x-1 text-xl",children:[a.jsx("span",{children:"Uploading"}),a.jsx("span",{className:"animate-fastPulse",children:"."}),a.jsx("span",{className:"animate-fastPulse",children:"."}),a.jsx("span",{className:"animate-fastPulse",children:"."})]}):a.jsx("button",{disabled:t.length===0,className:`${t.length===0?"text-xl text-gray-500 opacity-50 hover:opacity-75":"cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red"}`,onClick:()=>{J()},children:"Upload"}),a.jsx("button",{onClick:p=>{M||(p.stopPropagation(),e(!1))},className:"text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"Cancel"})]})]}),a.jsxs("div",{className:"my-20 flex flex-col items-center justify-center text-center text-xl",children:[a.jsx("div",{className:"mr-2",children:"Drop Anywhere to Upload or "}),a.jsx("a",{onClick:q,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"Open File Dialog"})]})]})]})}function xr(){const[e,t]=k.useState({type:"",occasion:"",photo:"",details:!1}),[r,n]=k.useState({type:"",occasion:"",photo:"",details:!1}),[s,o]=k.useState({}),[d,m]=k.useState(!1),[x,g]=k.useState([{name:"Concert",selected:!1},{name:"Street & Landscape",selected:!1}]),[b,w]=k.useState([]),[K,F]=k.useState([]),[_,P]=k.useState({}),[$,Q]=k.useState(null),[H,W]=k.useState([]),[B,V]=k.useState(!1),T=["concert","streetlandscape"];k.useEffect(()=>{Q(r.type)},[r.type]);const I=i=>{W(i),V(!0)},G=i=>{W(c=>c.filter((f,l)=>l!==i))},R=i=>{V(i)},M=i=>{W(c=>{const f=[],l=[];return i.forEach(y=>{c.some(N=>N.name===y.name)?l.push(y):f.push(y)}),l.forEach(y=>console.log(y.name)),[...c,...f]})},Y=async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{o(i.data)}).catch(i=>console.log(i))},z=async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{o(i.data)}).catch(i=>console.log(i))},J=(i,c)=>{t(f=>{const l={...f};return l.occasion=c,l.photo="",l.details=!1,l}),n(f=>{const l={...f};return l.occasion=i,l.photo="",l.details=!1,l}),console.log("occasion selected")};k.useEffect(()=>{(async()=>{(async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(f=>f.json()).then(f=>{o(f.data)}).catch(f=>console.log(f))})().then(()=>{m(!0)})})()},[]),k.useEffect(()=>{e.type&&e.occasion&&r.occasion&&S(T.indexOf(e.type),e.occasion,r.occasion)},[s]);const S=(i,c,f)=>{t(N=>{const D={...N};return D.type=T[i],D.occasion=c,D.photo="",D.details=!1,D}),n(N=>{const D={...N};return D.type=x[i].name,D.occasion=f,D.photo="",D.details=!1,D}),P({}),g(N=>{const D=[...N];for(let ee of D)ee.name===D[i].name?ee.selected=!0:ee.selected=!1;return D});let l=[];for(let N in s[T[i]].index)l.push({[N]:s[T[i]].index[N],selected:N===c});w(l);let y=[];for(let N of s[e.type].keys[c])N.selected=!1,y.push(N);F(y)};k.useEffect(()=>{console.log(s)},[s]);const E=async i=>{i!==e.type&&(t(f=>{const l={...f};return l.type=T[i],l.occasion="",l.photo="",l.details=!1,l}),n(f=>{const l={...f};return l.type=x[i].name,l.occasion="",l.photo="",l.details=!1,l}),w([]),F([]),P({})),g(f=>{const l=[...f];for(let y of l)y.name===l[i].name?y.selected=!0:y.selected=!1;return l});let c=[];for(let f in s[T[i]].index)c.push({[f]:s[T[i]].index[f],selected:!1});w(c)},ie=(i,c)=>{i!==e.occasion&&(t(l=>{const y={...l};return y.occasion=i,y.photo="",y.details=!1,y}),n(l=>{const y={...l};return y.occasion=c,y.photo="",y.details=!1,y}),F([]),P({})),w(l=>{const y=[...l];for(let N of y)i===Object.keys(N)[0]?N.selected=!0:N.selected=!1;return y});let f=[];for(let l of s[e.type].keys[i])l.selected=!1,f.push(l);F(f)},Z=(i,c)=>{i!==e.photo&&(t(f=>{const l={...f};return l.photo=i,l.details=!1,l}),n(f=>{const l={...f};return l.photo=i,l.details=!1,l}),P({})),F(f=>{const l=[...f];for(let y of l)i===Object.keys(y)[0]?y.selected=!0:y.selected=!1;return l}),t(f=>{const l={...f};return l.details=!0,l}),P({caption:c.caption,date:c.date,url:c.url,webp_url:c.webp_url,artist:c.artist,venue:c.venue})},q=()=>{t(i=>{const c={...i};return c.occasion="",c.photo="",c.details=!1,c}),n(i=>{const c={...i};return c.occasion="",c.photo="",c.details=!1,c}),w([]),F([]),P({})},p=()=>{t(i=>{const c={...i};return c.photo="",c.details=!1,c}),n(i=>{const c={...i};return c.photo="",c.details=!1,c}),F([]),P({})};return d?a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("div",{className:"flex h-8 w-max flex-row items-center overflow-x-auto",children:[a.jsx(ae,{onClick:z,icon:xt,className:"mr-2 cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"}),r.type&&a.jsxs("div",{className:"flex w-auto flex-row",children:[a.jsx("div",{onClick:q,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${r.type}`}),a.jsx("div",{className:"px-2",children:"/"})]}),r.occasion&&a.jsxs("div",{className:"flex flex-row ",children:[a.jsx("div",{onClick:p,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${r.occasion}`}),a.jsx("div",{className:"px-2",children:"/"})]}),a.jsx("div",{className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:r.photo})]}),a.jsxs("div",{className:"mt-2 flex flex-row ",children:[a.jsx("div",{className:"flex flex-col items-stretch",children:x.map((i,c)=>a.jsxs("div",{className:`${i.selected&&"text-sea-foam-green dark:text-dark-grayish-red"} mb-1 flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>E(c),children:[a.jsx("div",{className:"mr-4 text-lg",children:i.name}),a.jsx("div",{className:"w-4",children:a.jsx(ae,{icon:Ke,className:`${!i.selected&&"hidden"} text-sm`})})]},c))}),a.jsxs("div",{className:"ml-4 flex flex-col items-stretch",children:[b.map((i,c)=>{var f=Object.keys(i)[0],l=i[f],y=i[Object.keys(i)[1]];return a.jsxs("div",{className:`${y&&"text-sea-foam-green dark:text-dark-grayish-red"} mb-1 flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{ie(f,l)},children:[a.jsx("div",{className:"mr-4 text-lg",children:l}),a.jsx("div",{className:"w-4",children:a.jsx(ae,{icon:Ke,className:`${!y&&"hidden"} text-sm`})})]},c)}),b.length>0&&r.type===$&&a.jsx(vt,{typeName:e.type,occasionBool:!0,downloadJsonFiles:Y,selectNewOccasion:J})]}),a.jsx("div",{className:"ml-4 flex flex-col items-stretch",id:"photo-list",children:r.occasion!==""&&a.jsx(pr,{photosList:K,handlePhotoSelect:Z,displayAcceptedFiles:I})}),a.jsxs("div",{className:`${!e.details&&"hidden"} ml-4`,children:[a.jsx("div",{className:"w-80",children:a.jsx("img",{src:_.webp_url,alt:_.caption,className:"h-full w-full"})}),a.jsxs("div",{children:["Caption: ",_.caption]}),a.jsxs("div",{children:["Date: ",_.date]}),e.type==="concert"?a.jsxs("div",{children:[a.jsxs("div",{children:["Artist: ",_.artist]}),a.jsxs("div",{children:["Venue: ",_.venue]})]}):a.jsxs("div",{children:["Place: ",_.venue]})]})]}),B&&a.jsx("div",{onClick:i=>{i.currentTarget===i.target&&R(!1)},className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 text-black dark:text-black",children:a.jsx(mr,{handleUploadModule:R,listAcceptedFiles:H,selectedOccasionKey:e.occasion,selectedOccasionName:r.occasion,selectedOccasionType:e.type,addingMorePhotosToListAcceptedFiles:M,downloadJsonFiles:Y,removePhotoFromListAcceptedFiles:G})})]}):a.jsx("div",{className:"mt-4",children:"Loading..."})}export{xr as default};
