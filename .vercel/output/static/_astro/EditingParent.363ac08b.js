import{R as n}from"./index.f824fa59.js";import{F as u,i as p}from"./index.10cbaf40.js";import{j as a}from"./jsx-runtime.0209ad28.js";function T(){const[i,d]=n.useState({type:"",occasion:"",photo:"",details:!1}),[o,v]=n.useState({}),[j,w]=n.useState(!1),[y,N]=n.useState([{name:"Concert",selected:!1},{name:"Street & Landscape",selected:!1}]),[g,m]=n.useState([]),[S,f]=n.useState([]),[l,h]=n.useState({}),x=["concert","streetlandscape"];n.useEffect(()=>{(async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{v(r.data)}).catch(r=>console.log(r))})().then(()=>{w(!0)})},[]);const k=t=>{t!==i.type&&(d(s=>{const e={...s};return e.type=x[t],e.occasion="",e.photo="",e.details=!1,e}),m([]),f([]),h({})),N(s=>{const e=[...s];for(let c of e)c.name===e[t].name?c.selected=!0:c.selected=!1;return e});let r=[];for(let s in o[x[t]].index)r.push({[s]:o[x[t]].index[s],selected:!1});m(r)},L=t=>{t!==i.occasion&&(d(s=>{const e={...s};return e.occasion=t,e.photo="",e.details=!1,e}),f([]),h({})),m(s=>{const e=[...s];for(let c of e)t===Object.keys(c)[0]?c.selected=!0:c.selected=!1;return e});let r=[];for(let s of o[i.type].keys[t])s.selected=!1,r.push(s);f(r)},b=(t,r)=>{t!==i.photo&&(d(s=>{const e={...s};return e.photo=t,e.details=!1,e}),h({})),f(s=>{const e=[...s];for(let c of e)t===Object.keys(c)[0]?c.selected=!0:c.selected=!1;return e}),d(s=>{const e={...s};return e.details=!0,e}),h({caption:r.caption,date:r.date,url:r.url,webp_url:r.webp_url,artist:r.artist,venue:r.venue})};return n.useEffect(()=>{console.log(o)},[o]),j?a.jsxs("div",{className:"mt-4 flex flex-row overflow-x-scroll ",children:[a.jsx("div",{className:"flex flex-col items-stretch",children:y.map((t,r)=>a.jsxs("div",{className:`${t.selected&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>k(r),children:[a.jsx("div",{className:"mr-4 text-lg",children:t.name}),a.jsx("div",{className:"w-4",children:a.jsx(u,{icon:p,className:`${!t.selected&&"hidden"} text-sm`})})]},r))}),a.jsx("div",{className:"ml-4 flex flex-col items-stretch",children:g.map((t,r)=>{var s=Object.keys(t)[0],e=t[s],c=t[Object.keys(t)[1]];return a.jsxs("div",{className:`${c&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{L(s)},children:[a.jsx("div",{className:"mr-4 text-lg",children:e}),a.jsx("div",{className:"w-4",children:a.jsx(u,{icon:p,className:`${!c&&"hidden"} text-sm`})})]},r)})}),a.jsx("div",{className:"ml-4 flex flex-col items-stretch",children:S.map((t,r)=>{var s=Object.keys(t)[0],e=t[s],c=t.selected;return a.jsxs("div",{className:`${c&&"text-sea-foam-green dark:text-dark-grayish-red"} flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{b(s,e)},children:[a.jsx("div",{className:"mr-4 text-lg",children:s}),a.jsx("div",{className:"w-4",children:a.jsx(u,{icon:p,className:`${!c&&"hidden"} text-sm`})})]},r)})}),a.jsxs("div",{className:`${!i.details&&"hidden"}`,children:[a.jsx("div",{className:"w-64",children:a.jsx("img",{src:l.webp_url,alt:l.caption,className:"h-full w-full"})}),a.jsxs("div",{children:["Caption: ",l.caption]}),a.jsxs("div",{children:["Date: ",l.date]}),i.type==="concert"?a.jsxs("div",{children:[a.jsxs("div",{children:["Artist: ",l.artist]}),a.jsxs("div",{children:["Venue: ",l.venue]})]}):a.jsxs("div",{children:["Place: ",l.venue]})]})]}):a.jsx("div",{className:"mt-4",children:"Loading..."})}export{T as default};
