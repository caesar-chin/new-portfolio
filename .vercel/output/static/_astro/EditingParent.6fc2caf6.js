import{F as B,i as Ae,d as Ue,j as rt,p as S,f as xt,k as yt,l as bt,m as vt}from"./index.1604e1f1.js";import{r as D,R as N}from"./index.f824fa59.js";import{j as n}from"./jsx-runtime.0209ad28.js";function wt({typeName:e,occasionBool:t,occasionName:r,downloadJsonFiles:a,selectNewOccasion:s}){const o=D.useRef(null),[d,h]=D.useState(!1),w=j=>{h(j)},g=async j=>{j.preventDefault(),t&&await fetch("https://portfolio-website-api-production.up.railway.app/add_occasion",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e.toLowerCase(),occasion:o.current?.value})}).then(y=>y.json()).then(async y=>{y.status>=400?console.log("Error adding new occasion"):(console.log(y),console.log("Successfully added new occasion"),await a(),s(y.occasion_name,y.occasion_key),w(!1))})};return D.useEffect(()=>{d&&o.current&&o.current.focus()},[d]),n.jsxs("div",{children:[d&&n.jsx("div",{children:n.jsxs("form",{onSubmit:g,children:[n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",ref:o,type:"text",placeholder:`New ${t?"Occaison":"Photo"}`}),n.jsx("button",{type:"submit",children:n.jsx(B,{icon:Ae,className:"text-md mr-2 cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})}),n.jsx(B,{icon:Ue,onClick:()=>w(!1),className:"text-md cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})]})}),n.jsx("div",{onClick:()=>w(!0),className:"mb-1 mr-4 flex cursor-pointer flex-row items-center justify-between text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"+ Add New "})]})}function jt({occasionList:e,showDelete:t,addOccasionDeleteObject:r,selectedList:a,removeOccasionDeleteObject:s,handleOccasionSelect:o,downloadJsonFiles:d,selectNewOccasion:h,selectedListName:w,previousType:g,showEdit:j}){return n.jsxs("div",{children:[e.map((y,_)=>{var A=Object.keys(y)[0],L=y[A],E=y[Object.keys(y)[1]];return n.jsxs("div",{className:"flex flex-row items-center",children:[t&&n.jsx("input",{type:"checkbox",className:"border focus:ring-3 text-sea-foarm-green mr-2 h-1 w-1 rounded border-gray-300 p-2 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red",onChange:R=>{R.target.checked?r(_,{[A]:a.type+"/"+L}):R.target.checked||s(_,{[A]:a.type+"/"+L})},checked:y.deleted_selected}),n.jsxs("div",{className:"mb-1 flex flex-row items-center justify-between",children:[j?n.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[n.jsx("input",{className:"border mb-1 border-gray-500 bg-transparent text-lg",type:"text",value:L}),n.jsx(B,{icon:Ae,className:"mr-4 text-md cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})]}):n.jsx("div",{onClick:()=>{o(A,L)},className:`${E&&"text-sea-foam-green dark:text-dark-grayish-red"} mr-4 cursor-pointer text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,children:L}),n.jsx("div",{className:"w-4",children:n.jsx(B,{icon:rt,className:`${!E&&"hidden"} ${E&&"text-sea-foam-green dark:text-dark-grayish-red"} text-sm hover:text-sea-foam-green dark:hover:text-dark-grayish-red`})})]})]},_)}),e.length>0&&w.type===g&&n.jsx(wt,{typeName:a.type,occasionBool:!0,downloadJsonFiles:d,selectNewOccasion:h})]})}function kt({details:e,selectedList:t,showEdit:r}){return n.jsxs("div",{children:[n.jsx("div",{className:"w-80",children:n.jsx("img",{src:e.webp_url,alt:e.caption,className:"h-full w-full"})}),r?n.jsx("div",{children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:["Caption:",n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",type:"text"})]}),n.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:["Date:",n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",type:"text"})]}),t.type==="concert"?n.jsxs("div",{children:[n.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:["Artist:",n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",type:"text"})]}),n.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:["Venue:",n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",type:"text"})]})]}):n.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:["Place:",n.jsx("input",{className:"border mb-1 mr-2 border-gray-500 bg-transparent text-lg",type:"text"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(B,{icon:Ae,className:"mr-4 cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red"}),n.jsx(B,{icon:Ue,className:"cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red"})]})]})}):n.jsxs("div",{children:[n.jsxs("div",{children:["Caption: ",e.caption]}),n.jsxs("div",{children:["Date: ",e.date]}),t.type==="concert"?n.jsxs("div",{children:[n.jsxs("div",{children:["Artist: ",e.artist]}),n.jsxs("div",{children:["Venue: ",e.venue]})]}):n.jsxs("div",{children:["Place: ",e.venue]})]})]})}function fe(e,t,r,a){function s(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function h(j){try{g(a.next(j))}catch(y){d(y)}}function w(j){try{g(a.throw(j))}catch(y){d(y)}}function g(j){j.done?o(j.value):s(j.value).then(h,w)}g((a=a.apply(e,t||[])).next())})}function pe(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,s,o,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(j){return w([g,j])}}function w(g){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(a=1,s&&(o=g[0]&2?s.return:g[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,g[1])).done)return o;switch(s=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(g[0]===6&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(j){g=[6,j],s=0}finally{a=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function We(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),s,o=[],d;try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(h){d={error:h}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(d)throw d.error}}return o}function Be(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}var Dt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function xe(e,t){var r=Nt(e);if(typeof r.path!="string"){var a=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof a=="string"&&a.length>0?a:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Nt(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var a=t.split(".").pop().toLowerCase(),s=Dt.get(a);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var Ot=[".DS_Store","Thumbs.db"];function At(e){return fe(this,void 0,void 0,function(){return pe(this,function(t){return De(e)&&St(e.dataTransfer)?[2,Pt(e.dataTransfer,e.type)]:Ct(e)?[2,Et(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,_t(e)]:[2,[]]})})}function St(e){return De(e)}function Ct(e){return De(e)&&De(e.target)}function De(e){return typeof e=="object"&&e!==null}function Et(e){return Re(e.target.files).map(function(t){return xe(t)})}function _t(e){return fe(this,void 0,void 0,function(){var t;return pe(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(a){return a.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(a){return xe(a)})]}})})}function Pt(e,t){return fe(this,void 0,void 0,function(){var r,a;return pe(this,function(s){switch(s.label){case 0:return e.items?(r=Re(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Ft))]):[3,2];case 1:return a=s.sent(),[2,Ge(nt(a))];case 2:return[2,Ge(Re(e.files).map(function(o){return xe(o)}))]}})})}function Ge(e){return e.filter(function(t){return Ot.indexOf(t.name)===-1})}function Re(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var a=e[r];t.push(a)}return t}function Ft(e){if(typeof e.webkitGetAsEntry!="function")return Ve(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?at(t):Ve(e)}function nt(e){return e.reduce(function(t,r){return Be(Be([],We(t),!1),We(Array.isArray(r)?nt(r):[r]),!1)},[])}function Ve(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=xe(t);return Promise.resolve(r)}function Tt(e){return fe(this,void 0,void 0,function(){return pe(this,function(t){return[2,e.isDirectory?at(e):Lt(e)]})})}function at(e){var t=e.createReader();return new Promise(function(r,a){var s=[];function o(){var d=this;t.readEntries(function(h){return fe(d,void 0,void 0,function(){var w,g,j;return pe(this,function(y){switch(y.label){case 0:if(h.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return w=y.sent(),r(w),[3,4];case 3:return g=y.sent(),a(g),[3,4];case 4:return[3,6];case 5:j=Promise.all(h.map(Tt)),s.push(j),o(),y.label=6;case 6:return[2]}})})},function(h){a(h)})}o()})}function Lt(e){return fe(this,void 0,void 0,function(){return pe(this,function(t){return[2,new Promise(function(r,a){e.file(function(s){var o=xe(s,e.fullPath);r(o)},function(s){a(s)})})]})})}var Rt=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",s=(e.type||"").toLowerCase(),o=s.replace(/\/.*$/,"");return r.some(function(d){var h=d.trim().toLowerCase();return h.charAt(0)==="."?a.toLowerCase().endsWith(h):h.endsWith("/*")?o===h.replace(/\/.*$/,""):s===h})}return!0};function Je(e){return Mt(e)||$t(e)||st(e)||It()}function It(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mt(e){if(Array.isArray(e))return Ie(e)}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(r),!0).forEach(function(a){ot(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){return Kt(e)||Ut(e,t)||st(e,t)||zt()}function zt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e,t){if(e){if(typeof e=="string")return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}}function Ie(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ut(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],s=!0,o=!1,d,h;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(a.push(d.value),!(t&&a.length===t));s=!0);}catch(w){o=!0,h=w}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw h}}return a}}function Kt(e){if(Array.isArray(e))return e}var Ht="file-invalid-type",Wt="file-too-large",Bt="file-too-small",Gt="too-many-files",Vt=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Ht,message:"File type must be ".concat(r)}},Xe=function(t){return{code:Wt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Qe=function(t){return{code:Bt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Jt={code:Gt,message:"Too many files"};function it(e,t){var r=e.type==="application/x-moz-file"||Rt(e,t);return[r,r?null:Vt(t)]}function ct(e,t,r){if(ce(e.size))if(ce(t)&&ce(r)){if(e.size>r)return[!1,Xe(r)];if(e.size<t)return[!1,Qe(t)]}else{if(ce(t)&&e.size<t)return[!1,Qe(t)];if(ce(r)&&e.size>r)return[!1,Xe(r)]}return[!0,null]}function ce(e){return e!=null}function qt(e){var t=e.files,r=e.accept,a=e.minSize,s=e.maxSize,o=e.multiple,d=e.maxFiles,h=e.validator;return!o&&t.length>1||o&&d>=1&&t.length>d?!1:t.every(function(w){var g=it(w,r),j=he(g,1),y=j[0],_=ct(w,a,s),A=he(_,1),L=A[0],E=h?h(w):null;return y&&L&&!E})}function Ne(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ke(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ze(e){e.preventDefault()}function Yt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Xt(e){return e.indexOf("Edge/")!==-1}function Qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Yt(e)||Xt(e)}function Z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){for(var s=arguments.length,o=new Array(s>1?s-1:0),d=1;d<s;d++)o[d-1]=arguments[d];return t.some(function(h){return!Ne(a)&&h&&h.apply(void 0,[a].concat(o)),Ne(a)})}}function Zt(){return"showOpenFilePicker"in window}function er(e){if(ce(e)){var t=Object.entries(e).filter(function(r){var a=he(r,2),s=a[0],o=a[1],d=!0;return lt(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(o)||!o.every(ut))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(r,a){var s=he(a,2),o=s[0],d=s[1];return Ye(Ye({},r),{},ot({},o,d))},{});return[{description:"Files",accept:t}]}return e}function tr(e){if(ce(e))return Object.entries(e).reduce(function(t,r){var a=he(r,2),s=a[0],o=a[1];return[].concat(Je(t),[s],Je(o))},[]).filter(function(t){return lt(t)||ut(t)}).join(",")}function rr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function nr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function lt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function ut(e){return/^.*\.[\w]+$/.test(e)}var ar=["children"],or=["open"],sr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ir=["refKey","onChange","onClick"];function cr(e){return dr(e)||ur(e)||dt(e)||lr()}function lr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dr(e){if(Array.isArray(e))return $e(e)}function Le(e,t){return mr(e)||pr(e,t)||dt(e,t)||fr()}function fr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(e,t){if(e){if(typeof e=="string")return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(e,t)}}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function pr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],s=!0,o=!1,d,h;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(a.push(d.value),!(t&&a.length===t));s=!0);}catch(w){o=!0,h=w}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw h}}return a}}function mr(e){if(Array.isArray(e))return e}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(a){Me(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e,t){if(e==null)return{};var r=gr(e,t),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gr(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Ke=D.forwardRef(function(e,t){var r=e.children,a=Oe(e,ar),s=He(a),o=s.open,d=Oe(s,or);return D.useImperativeHandle(t,function(){return{open:o}},[o]),N.createElement(D.Fragment,null,r(C(C({},d),{},{open:o})))});Ke.displayName="Dropzone";var ft={disabled:!1,getFilesFromEvent:At,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ke.defaultProps=ft;Ke.propTypes={children:S.func,accept:S.objectOf(S.arrayOf(S.string)),multiple:S.bool,preventDropOnDocument:S.bool,noClick:S.bool,noKeyboard:S.bool,noDrag:S.bool,noDragEventsBubbling:S.bool,minSize:S.number,maxSize:S.number,maxFiles:S.number,disabled:S.bool,getFilesFromEvent:S.func,onFileDialogCancel:S.func,onFileDialogOpen:S.func,useFsAccessApi:S.bool,autoFocus:S.bool,onDragEnter:S.func,onDragLeave:S.func,onDragOver:S.func,onDrop:S.func,onDropAccepted:S.func,onDropRejected:S.func,onError:S.func,validator:S.func};var ze={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function He(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=C(C({},ft),e),r=t.accept,a=t.disabled,s=t.getFilesFromEvent,o=t.maxSize,d=t.minSize,h=t.multiple,w=t.maxFiles,g=t.onDragEnter,j=t.onDragLeave,y=t.onDragOver,_=t.onDrop,A=t.onDropAccepted,L=t.onDropRejected,E=t.onFileDialogCancel,R=t.onFileDialogOpen,Q=t.useFsAccessApi,K=t.autoFocus,Y=t.preventDropOnDocument,ee=t.noClick,re=t.noKeyboard,G=t.noDrag,V=t.noDragEventsBubbling,J=t.onError,X=t.validator,I=D.useMemo(function(){return tr(r)},[r]),q=D.useMemo(function(){return er(r)},[r]),M=D.useMemo(function(){return typeof R=="function"?R:tt},[R]),ne=D.useMemo(function(){return typeof E=="function"?E:tt},[E]),$=D.useRef(null),z=D.useRef(null),me=D.useReducer(hr,ze),se=Le(me,2),ie=se[0],f=se[1],P=ie.isFocused,b=ie.isFileDialogActive,O=D.useRef(typeof window<"u"&&window.isSecureContext&&Q&&Zt()),F=function(){!O.current&&b&&setTimeout(function(){if(z.current){var x=z.current.files;x.length||(f({type:"closeDialog"}),ne())}},300)};D.useEffect(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[z,b,ne,O]);var ae=D.useRef([]),ye=function(x){$.current&&$.current.contains(x.target)||(x.preventDefault(),ae.current=[])};D.useEffect(function(){return Y&&(document.addEventListener("dragover",Ze,!1),document.addEventListener("drop",ye,!1)),function(){Y&&(document.removeEventListener("dragover",Ze),document.removeEventListener("drop",ye))}},[$,Y]),D.useEffect(function(){return!a&&K&&$.current&&$.current.focus(),function(){}},[$,K,a]);var te=D.useCallback(function(u){J?J(u):console.error(u)},[J]),be=D.useCallback(function(u){u.preventDefault(),u.persist(),H(u),ae.current=[].concat(cr(ae.current),[u.target]),ke(u)&&Promise.resolve(s(u)).then(function(x){if(!(Ne(u)&&!V)){var T=x.length,U=T>0&&qt({files:x,accept:I,minSize:d,maxSize:o,multiple:h,maxFiles:w,validator:X}),W=T>0&&!U;f({isDragAccept:U,isDragReject:W,isDragActive:!0,type:"setDraggedFiles"}),g&&g(u)}}).catch(function(x){return te(x)})},[s,g,te,V,I,d,o,h,w,X]),ve=D.useCallback(function(u){u.preventDefault(),u.persist(),H(u);var x=ke(u);if(x&&u.dataTransfer)try{u.dataTransfer.dropEffect="copy"}catch{}return x&&y&&y(u),!1},[y,V]),we=D.useCallback(function(u){u.preventDefault(),u.persist(),H(u);var x=ae.current.filter(function(U){return $.current&&$.current.contains(U)}),T=x.indexOf(u.target);T!==-1&&x.splice(T,1),ae.current=x,!(x.length>0)&&(f({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ke(u)&&j&&j(u))},[$,j,V]),le=D.useCallback(function(u,x){var T=[],U=[];u.forEach(function(W){var ge=it(W,I),de=Le(ge,2),Se=de[0],Ce=de[1],Ee=ct(W,d,o),je=Le(Ee,2),_e=je[0],Pe=je[1],Fe=X?X(W):null;if(Se&&_e&&!Fe)T.push(W);else{var Te=[Ce,Pe];Fe&&(Te=Te.concat(Fe)),U.push({file:W,errors:Te.filter(function(ht){return ht})})}}),(!h&&T.length>1||h&&w>=1&&T.length>w)&&(T.forEach(function(W){U.push({file:W,errors:[Jt]})}),T.splice(0)),f({acceptedFiles:T,fileRejections:U,type:"setFiles"}),_&&_(T,U,x),U.length>0&&L&&L(U,x),T.length>0&&A&&A(T,x)},[f,h,I,d,o,w,_,A,L,X]),ue=D.useCallback(function(u){u.preventDefault(),u.persist(),H(u),ae.current=[],ke(u)&&Promise.resolve(s(u)).then(function(x){Ne(u)&&!V||le(x,u)}).catch(function(x){return te(x)}),f({type:"reset"})},[s,le,te,V]),oe=D.useCallback(function(){if(O.current){f({type:"openDialog"}),M();var u={multiple:h,types:q};window.showOpenFilePicker(u).then(function(x){return s(x)}).then(function(x){le(x,null),f({type:"closeDialog"})}).catch(function(x){rr(x)?(ne(x),f({type:"closeDialog"})):nr(x)?(O.current=!1,z.current?(z.current.value=null,z.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(x)});return}z.current&&(f({type:"openDialog"}),M(),z.current.value=null,z.current.click())},[f,M,ne,Q,le,te,q,h]),i=D.useCallback(function(u){!$.current||!$.current.isEqualNode(u.target)||(u.key===" "||u.key==="Enter"||u.keyCode===32||u.keyCode===13)&&(u.preventDefault(),oe())},[$,oe]),l=D.useCallback(function(){f({type:"focus"})},[]),p=D.useCallback(function(){f({type:"blur"})},[]),c=D.useCallback(function(){ee||(Qt()?setTimeout(oe,0):oe())},[ee,oe]),m=function(x){return a?null:x},k=function(x){return re?null:m(x)},v=function(x){return G?null:m(x)},H=function(x){V&&x.stopPropagation()},pt=D.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=u.refKey,T=x===void 0?"ref":x,U=u.role,W=u.onKeyDown,ge=u.onFocus,de=u.onBlur,Se=u.onClick,Ce=u.onDragEnter,Ee=u.onDragOver,je=u.onDragLeave,_e=u.onDrop,Pe=Oe(u,sr);return C(C(Me({onKeyDown:k(Z(W,i)),onFocus:k(Z(ge,l)),onBlur:k(Z(de,p)),onClick:m(Z(Se,c)),onDragEnter:v(Z(Ce,be)),onDragOver:v(Z(Ee,ve)),onDragLeave:v(Z(je,we)),onDrop:v(Z(_e,ue)),role:typeof U=="string"&&U!==""?U:"presentation"},T,$),!a&&!re?{tabIndex:0}:{}),Pe)}},[$,i,l,p,c,be,ve,we,ue,re,G,a]),mt=D.useCallback(function(u){u.stopPropagation()},[]),gt=D.useMemo(function(){return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=u.refKey,T=x===void 0?"ref":x,U=u.onChange,W=u.onClick,ge=Oe(u,ir),de=Me({accept:I,multiple:h,type:"file",style:{display:"none"},onChange:m(Z(U,ue)),onClick:m(Z(W,mt)),tabIndex:-1},T,z);return C(C({},de),ge)}},[z,r,h,ue,a]);return C(C({},ie),{},{isFocused:P&&!a,getRootProps:pt,getInputProps:gt,rootRef:$,inputRef:z,open:m(oe)})}function hr(e,t){switch(t.type){case"focus":return C(C({},e),{},{isFocused:!0});case"blur":return C(C({},e),{},{isFocused:!1});case"openDialog":return C(C({},ze),{},{isFileDialogActive:!0});case"closeDialog":return C(C({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return C(C({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return C(C({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return C({},ze);default:return e}}function tt(){}function xr({photosList:e,handlePhotoSelect:t,displayAcceptedFiles:r,showDelete:a,listOfSelectAllOccasion:s,deleteObject:o,addPhotoDeleteObject:d,deletePhotoDeleteObject:h}){const{getRootProps:w,getInputProps:g,isDragActive:j}=He({noClick:!0,accept:{"image/*":[]},onDropAccepted:y=>{r(y.map(_=>Object.assign(_,{preview:URL.createObjectURL(_)})))}});return n.jsxs("div",{...w(),className:`relative ${j&&""}`,children:[n.jsx("input",{...g()}),n.jsx("div",{className:`${j&&"invisible"}`,children:e.map((y,_)=>{var A=Object.keys(y)[0],L=y[A],E=y.selected,R=L.occasion,Q=L.type;return n.jsxs("div",{className:"flex flex-row items-center",children:[a&&n.jsx("input",{type:"checkbox",className:"border focus:ring-3 text-sea-foarm-green mr-2 h-1 w-1 rounded border-gray-300 p-2 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red",checked:o.occasion.some(K=>K.hasOwnProperty(R))||o.photos.some(K=>K[Q+"/"+R]?.includes(A)),onChange:K=>{o.occasion.some(Y=>Y.hasOwnProperty(R))||(K.target.checked?d(Q+"/"+R,A):K.target.checked||h(Q+"/"+R,A))}}),n.jsx("div",{className:`${E&&"text-sea-foam-green dark:text-dark-grayish-red"} mb-1 flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>{t(A,L)},children:n.jsx("div",{className:"mr-4 text-lg",children:A})})]},_)})}),n.jsx("div",{onClick:()=>r([]),className:"mb-1 mr-4 flex cursor-pointer flex-row items-center justify-between text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"+ Add New Photo"}),j&&n.jsx("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center bg-black bg-opacity-50 text-center",children:"Drop Here To Upload Photos"})]})}function yr({photoType:e,handlePhotoTypeSelect:t}){return n.jsx("div",{children:e.map((r,a)=>n.jsxs("div",{className:`${r.selected&&"text-sea-foam-green dark:text-dark-grayish-red"} mb-1 flex cursor-pointer flex-row items-center justify-between hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>t(a),children:[n.jsx("div",{className:"mr-4 text-lg",children:r.name}),n.jsx("div",{className:"w-4",children:n.jsx(B,{icon:rt,className:`${!r.selected&&"hidden"} text-sm`})})]},a))})}function br({handleUploadModule:e,listAcceptedFiles:t,selectedOccasionKey:r,selectedOccasionName:a,selectedOccasionType:s,addingMorePhotosToListAcceptedFiles:o,downloadJsonFiles:d,removePhotoFromListAcceptedFiles:h}){const[w,g]=N.useState(""),[j,y]=N.useState(""),[_,A]=N.useState(""),[L,E]=N.useState(""),[R,Q]=N.useState(!1),[K,Y]=N.useState(!1),[ee,re]=N.useState(!1),[G,V]=N.useState(!1),[J,X]=N.useState(t.map(f=>({[f.name]:{preview:f.preview,artist:"",venue:"",caption:"",date:""}}))),[I,q]=N.useState(!1),M=(f,P,b)=>{X(O=>O.map(F=>Object.keys(F)[0]===f?{...F,[f]:{...F[f],[P]:b}}:F))},ne=async()=>{q(!0);const f=new FormData;t.forEach((b,O)=>{f.append(`file${O+1}`,b)});var P=[];(R||K||ee||G)&&(P=J.map(b=>{const O=Object.keys(b)[0];return{[O]:{artist:R?w:b[O].artist,venue:K?j:b[O].venue,caption:ee?_:b[O].caption,date:G?L:b[O].date}}})),f.append("metadata",JSON.stringify(P)),f.append("occasionObject",JSON.stringify({selectedOccasionKey:r,selectedOccasionType:s})),await fetch("https://portfolio-website-api-production.up.railway.app/upload",{method:"POST",credentials:"include",headers:{},body:f}).then(b=>b.json()).then(b=>{b.success&&(d(),e(!1))}).catch(b=>{console.log(b)})};N.useEffect(()=>{console.log(r),console.log(a),console.log(s)},[r,a]);const $=f=>{X(P=>P.filter((b,O)=>O!==f))},{getRootProps:z,getInputProps:me,isDragActive:se,open:ie}=He({noClick:!0,accept:{"image/*":[]},onDropAccepted:f=>{console.log(f);const P=f.filter(b=>!t.some(O=>O.name===b.name));o(P.map(b=>Object.assign(b,{preview:URL.createObjectURL(b)}))),X(b=>{const O=P.map(F=>({[F.name]:{preview:F.preview,artist:"",venue:"",caption:"",date:""}}));return[...b,...O]})}});return n.jsxs("div",{className:"relative m-auto h-5/6 w-5/6 overflow-y-auto rounded bg-white p-6 dark:bg-gray-200",...z(),children:[n.jsx("input",{...me()}),se&&n.jsx("div",{className:"absolute left-0 top-0 z-10 h-full w-full bg-white text-center text-3xl dark:bg-gray-200",children:"Drop Here to Upload"}),n.jsxs("div",{id:"module",className:"relative z-0",children:[n.jsxs("div",{className:"mb-2 flex flex-row justify-between",children:[n.jsx("div",{className:"text-xl",children:`Uploading to ${a}`}),n.jsx(B,{className:"cursor-pointer text-3xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",icon:xt,onClick:f=>{f.stopPropagation(),e(!1)}})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsxs("div",{className:"w-auto",children:[n.jsx("div",{children:"Apply to all"}),n.jsxs("div",{className:"mb-2 flex w-min flex-col justify-center",children:[n.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("input",{type:"checkbox",onChange:f=>{Q(f.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),n.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n.jsx("label",{className:"text-md mr-4 block",children:"Artist:"}),n.jsx("input",{type:"text",id:"Artist",onChange:f=>g(f.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),n.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("input",{type:"checkbox",onChange:f=>{Y(f.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),n.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n.jsx("label",{className:"text-md mr-4 block",children:"Venue:"}),n.jsx("input",{type:"text",id:"Venue",onChange:f=>y(f.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),n.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("input",{type:"checkbox",onChange:f=>{re(f.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),n.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n.jsx("label",{className:"text-md mr-4 block",children:"Caption:"}),n.jsx("input",{type:"text",id:"Caption",onChange:f=>A(f.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]}),n.jsxs("div",{className:"mb-2 flex flex-row items-center",children:[n.jsx("div",{className:"mr-4",children:n.jsx("input",{type:"checkbox",onChange:f=>{V(f.target.checked)},className:"border focus:ring-3 text-sea-foarm-green h-4 w-4 rounded  border-gray-300 p-2.5 text-sm focus:border-sea-foam-green focus:bg-sea-foam-green focus:ring-sea-foam-green dark:text-dark-grayish-red dark:focus:border-dark-grayish-red dark:focus:bg-dark-grayish-red dark:focus:ring-dark-grayish-red"})}),n.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n.jsx("label",{className:"text-md mr-4 block",children:"Date:"}),n.jsx("input",{type:"text",id:"Date",onChange:f=>E(f.target.value),className:"border block w-auto rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"})]})]})]})]}),J.map((f,P)=>{console.log(f);const b=f[Object.keys(f)[0]],O=Object.keys(f)[0];return n.jsxs("div",{className:`flex flex-col py-8 ${J.length>1&&"border-b-2  border-sea-foam-green border-opacity-50 dark:border-dark-grayish-red dark:border-opacity-50"}`,children:[n.jsxs("div",{className:"flex flex-row justify-between ",children:[n.jsx("div",{className:"mb-4 text-xl",children:O}),n.jsx("div",{className:"mb-4 cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red",onClick:()=>{h(P),$(P)},children:"Remove"})]}),n.jsxs("div",{className:"flex flex-row items-center",children:[n.jsx("div",{children:n.jsx("div",{className:"border-2 border-sea-foam-green border-opacity-50 dark:border-dark-grayish-red",children:n.jsx("img",{src:b.preview,onLoad:()=>{URL.revokeObjectURL(b.preview)},className:"w-80 object-scale-down"})})}),n.jsxs("div",{className:"ml-2",children:[n.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[n.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Artist:"}),n.jsx("input",{type:"text",id:`Artist-${P}`,disabled:R,value:b.artist,onChange:F=>{M(O,"artist",F.target.value)},className:`${R?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red`})]}),n.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[n.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Venue:"}),n.jsx("input",{type:"text",id:`Venue-${P}`,disabled:K,value:b.venue,onChange:F=>{M(O,"venue",F.target.value)},className:`${K?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]}),n.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[n.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Caption:"}),n.jsx("input",{type:"text",id:`Caption-${P}`,disabled:ee,value:b.caption,onChange:F=>{M(O,"caption",F.target.value)},className:`${ee?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]}),n.jsxs("div",{className:"mb-2 flex flex-col items-center justify-between sm:flex-row",children:[n.jsx("label",{className:"text-md mx-4 block w-full sm:w-auto",children:"Date:"}),n.jsx("input",{type:"text",id:`Date-${P}`,disabled:G,value:b.date,onChange:F=>{M(O,"date",F.target.value)},className:`${G?"cursor-not-allowed bg-gray-300 opacity-50":"bg-gray-50"} border block w-auto rounded-lg border-gray-300 p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red `})]})]})]})]},O)}),t.length!==0&&n.jsxs("div",{className:"mt-4 flex flex-row gap-4",children:[I?n.jsxs("div",{className:"flex items-center space-x-1 text-xl",children:[n.jsx("span",{children:"Uploading"}),n.jsx("span",{className:"animate-fastPulse",children:"."}),n.jsx("span",{className:"animate-fastPulse",children:"."}),n.jsx("span",{className:"animate-fastPulse",children:"."})]}):n.jsx("button",{disabled:t.length===0,className:`${t.length===0?"text-xl text-gray-500 opacity-50 hover:opacity-75":"cursor-pointer text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red"}`,onClick:()=>{ne()},children:"Upload"}),n.jsx("button",{onClick:f=>{I||(f.stopPropagation(),e(!1))},className:"text-xl hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"Cancel"})]})]}),n.jsxs("div",{className:"my-20 flex flex-col items-center justify-center text-center text-xl",children:[n.jsx("div",{className:"mr-2",children:"Drop Anywhere to Upload or "}),n.jsx("a",{onClick:ie,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:"Open File Dialog"})]})]})]})}function kr(){const[e,t]=N.useState({type:"",occasion:"",photo:"",details:!1}),[r,a]=N.useState({type:"",occasion:"",photo:"",details:!1}),[s,o]=N.useState({}),[d,h]=N.useState(!1),[w,g]=N.useState([{name:"Concert",selected:!1},{name:"Street & Landscape",selected:!1}]),[j,y]=N.useState([]),[_,A]=N.useState([]),[L,E]=N.useState({}),[R,Q]=N.useState(null),[K,Y]=N.useState([]),[ee,re]=N.useState(!1),[G,V]=N.useState(!1),[J,X]=N.useState(!1),[I,q]=N.useState({occasion:[],photos:[]}),M=["concert","streetlandscape"];N.useEffect(()=>{console.log(I)},[I]),N.useEffect(()=>{console.log(_)},[_]),N.useEffect(()=>{Q(r.type)},[r.type]);const ne=i=>{Y(i),re(!0)},$=i=>{Y(l=>l.filter((p,c)=>c!==i))},z=i=>{re(i)},me=i=>{Y(l=>{const p=[],c=[];return i.forEach(m=>{l.some(k=>k.name===m.name)?c.push(m):p.push(m)}),c.forEach(m=>console.log(m.name)),[...l,...p]})},se=async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{o(i.data)}).catch(i=>console.log(i))},ie=async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{o(i.data)}).catch(i=>console.log(i))},f=(i,l)=>{t(p=>{const c={...p};return c.occasion=l,c.photo="",c.details=!1,c}),a(p=>{const c={...p};return c.occasion=i,c.photo="",c.details=!1,c}),console.log("occasion selected")};N.useEffect(()=>{(async()=>{(async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(p=>p.json()).then(p=>{o(p.data)}).catch(p=>console.log(p))})().then(()=>{h(!0)})})()},[]),N.useEffect(()=>{e.type&&e.occasion&&r.occasion&&P(M.indexOf(e.type),e.occasion,r.occasion)},[s]);const P=(i,l,p)=>{t(k=>{const v={...k};return v.type=M[i],v.occasion=l,v.photo="",v.details=!1,v}),a(k=>{const v={...k};return v.type=w[i].name,v.occasion=p,v.photo="",v.details=!1,v}),E({}),g(k=>{const v=[...k];for(let H of v)H.name===v[i].name?H.selected=!0:H.selected=!1;return v});let c=[];for(let k in s[M[i]].index)c.push({[k]:s[M[i]].index[k],selected:k===l,deleted_selected:!1});y(c);let m=[];for(let k of s[e.type].keys[l])k.selected=!1,m.push(k);A(m)},b=async i=>{if(M[i]!==e.type){q({occasion:[],photos:[]}),t(p=>{const c={...p};return c.type=M[i],c.occasion="",c.photo="",c.details=!1,c}),a(p=>{const c={...p};return c.type=w[i].name,c.occasion="",c.photo="",c.details=!1,c}),g(p=>{const c=[...p];for(let m of c)m.name===c[i].name?m.selected=!0:m.selected=!1;return c});let l=[];for(let p in s[M[i]].index)l.push({[p]:s[M[i]].index[p],selected:!1,deleted_selected:!1});y(l),A([]),E({})}},O=(i,l)=>{i!==e.occasion&&(t(c=>{const m={...c};return m.occasion=i,m.photo="",m.details=!1,m}),a(c=>{const m={...c};return m.occasion=l,m.photo="",m.details=!1,m}),A([]),E({})),y(c=>{const m=[...c];for(let k of m)i===Object.keys(k)[0]?k.selected=!0:k.selected=!1;return m});let p=[];for(let c of s[e.type].keys[i])c.selected=!1,p.push(c);A(p)},F=(i,l)=>{i!==e.photo&&(t(p=>{const c={...p};return c.photo=i,c.details=!1,c}),a(p=>{const c={...p};return c.photo=i,c.details=!1,c}),E({})),A(p=>{const c=[...p];for(let m of c)i===Object.keys(m)[0]?m.selected=!0:m.selected=!1;return c}),t(p=>{const c={...p};return c.details=!0,c}),E({caption:l.caption,date:l.date,url:l.url,webp_url:l.webp_url,artist:l.artist,venue:l.venue})},ae=()=>{t(i=>{const l={...i};return l.occasion="",l.photo="",l.details=!1,l}),a(i=>{const l={...i};return l.occasion="",l.photo="",l.details=!1,l}),y([]),A([]),E({})},ye=()=>{t(i=>{const l={...i};return l.photo="",l.details=!1,l}),a(i=>{const l={...i};return l.photo="",l.details=!1,l}),A([]),E({})},te=(i,l)=>{y(p=>{const c=[...p];return c[i].deleted_selected=!0,c}),q(p=>({...p,occasion:[...p.occasion,l]}))},be=(i,l)=>{q(p=>({...p,occasion:p.occasion.filter(c=>{const m=Object.keys(c)[0],k=c[m],v=Object.keys(l)[0],H=l[v];return!(m==v&&k==H)})})),y(p=>{const c=[...p];return c[i].deleted_selected=!1,c})},ve=(i,l)=>{q(p=>{const{occasion:c,photos:m}=p,k=m.findIndex(H=>Object.keys(H)[0]===i);let v;return k!==-1?(v=[...m],v[k][i]=[...v[k][i],l]):v=[...m,{[i]:[l]}],{occasion:c,photos:v}})},we=(i,l)=>{q(p=>{const c={...p},m=c.photos,k=m.findIndex(v=>v.hasOwnProperty(i));if(k!==-1){const v=m[k][i],H=v.indexOf(l);H!==-1&&(v.splice(H,1),v.length===0&&m.splice(k,1))}return c})},le=async()=>{var i=I.occasion.map(l=>Object.values(l)[0]);await fetch("https://portfolio-website-api-production.up.railway.app/delete_occasions",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({occasion:i})}).then(l=>l.json()).then(l=>{if(!l.success)console.log("There has been an error: "),console.log(l.error);else if(l.success)return console.log(l),q(p=>({...p,occasion:[]})),!0}).catch(l=>console.log(l))},ue=async()=>{await fetch("https://portfolio-website-api-production.up.railway.app/delete_files",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({keys:I.photos})}).then(i=>i.json()).then(i=>{if(!i.success)console.log("There has been an error: "),console.log(i.error);else if(i.success)return console.log(i),q(l=>({...l,photos:[]})),!0}).catch(i=>console.log(i))},oe=async()=>{I.occasion.length>0&&await le(),I.photos.length>0&&await ue(),await fetch("https://portfolio-website-api-production.up.railway.app/get_index_and_key_json",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(i=>i.json()).then(i=>{o(i.data);let l=i.data;t(c=>{const m={...c};return m.occasion="",m.photo="",m.details=!1,m}),a(c=>{const m={...c};return m.occasion="",m.photo="",m.details=!1,m}),E({});let p=[];for(let c in l[e.type].index)p.push({[c]:l[e.type].index[c],selected:!1,deleted_selected:!1});y(p)}).catch(i=>console.log(i))};return d?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("div",{className:"flex h-8 w-max flex-row items-center overflow-x-auto",children:[n.jsx(B,{onClick:ie,icon:yt,className:"mr-2 cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red"}),r.type&&n.jsxs("div",{className:"flex w-auto flex-row",children:[n.jsx("div",{onClick:ae,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${r.type}`}),n.jsx("div",{className:"px-2",children:"/"})]}),r.occasion&&n.jsxs("div",{className:"flex flex-row ",children:[n.jsx("div",{onClick:ye,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:`${r.occasion}`}),n.jsx("div",{className:"px-2",children:"/"})]}),n.jsx("div",{className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",children:r.photo})]}),n.jsxs("div",{className:"flex flex-row",children:[n.jsxs("div",{className:"mt-2 flex w-24 flex-row items-center gap-4",children:[n.jsx(B,{icon:bt,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",onClick:()=>V(!G)}),G&&n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx(B,{icon:Ae,className:`${I.occasion.length!==0||I.photos.length!==0?"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red":"text-gray-500"} text-xl`,onClick:oe}),n.jsx(B,{icon:Ue,className:"cursor-pointer hover:text-sea-foam-green dark:hover:text-dark-grayish-red",onClick:()=>V(!1)})]})]}),n.jsx("div",{className:"mt-2 flex h-8 flex-row items-center gap-4",children:n.jsx(B,{icon:vt,className:`${J&&"text-sea-foam-green dark:text-dark-grayish-red"} cursor-pointer text-lg hover:text-sea-foam-green dark:hover:text-dark-grayish-red`,onClick:()=>X(!J)})})]}),n.jsxs("div",{className:"mt-2 flex flex-row ",children:[n.jsx("div",{className:"flex flex-col items-stretch",children:n.jsx(yr,{photoType:w,handlePhotoTypeSelect:b})}),n.jsx("div",{className:"ml-4 flex flex-col items-stretch",children:n.jsx(jt,{occasionList:j,showDelete:G,addOccasionDeleteObject:te,selectedList:e,removeOccasionDeleteObject:be,handleOccasionSelect:O,downloadJsonFiles:se,selectNewOccasion:f,selectedListName:r,previousType:R,showEdit:J})}),n.jsx("div",{className:"ml-4 flex flex-col items-stretch",id:"photo-list",children:r.occasion!==""&&n.jsx(xr,{showDelete:G,photosList:_,handlePhotoSelect:F,displayAcceptedFiles:ne,listOfSelectAllOccasion:I.occasion,deleteObject:I,addPhotoDeleteObject:ve,deletePhotoDeleteObject:we})}),n.jsx("div",{className:`${!e.details&&"hidden"} ml-4`,children:n.jsx(kt,{details:L,selectedList:e,showEdit:J})})]}),ee&&n.jsx("div",{onClick:i=>{i.currentTarget===i.target&&z(!1)},className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 text-black dark:text-black",children:n.jsx(br,{handleUploadModule:z,listAcceptedFiles:K,selectedOccasionKey:e.occasion,selectedOccasionName:r.occasion,selectedOccasionType:e.type,addingMorePhotosToListAcceptedFiles:me,downloadJsonFiles:se,removePhotoFromListAcceptedFiles:$})})]}):n.jsx("div",{className:"mt-4",children:"Loading..."})}export{kr as default};
