import{R as d,r as A}from"./index.f824fa59.js";import{d as P,S as D,P as U}from"./index.d8fb78d3.js";import{F as y,f as _,a as G,b as R,c as W,d as H}from"./index.7e222333.js";import{j as e}from"./jsx-runtime.0209ad28.js";import K from"./PhotographyFooter.5dd14988.js";/* empty css                       */function X({occasionList:N,handleCustomLoadedImages:m,loading:L}){const[x,u]=d.useState({}),[$,j]=d.useState(""),[b,k]=d.useState("");d.useEffect(()=>{const t=Object.keys(N).reduce((s,i)=>(s[i]=!1,s),{});u(t)},[N]);const w=t=>{const s=Object.entries(t).sort((i,h)=>h[1]===i[1]?0:h[1]?-1:1);return Object.fromEntries(s)},O=t=>{u(s=>{const i={...s,[t]:!s[t]};return w(i)})},C=()=>{const t=Object.keys(N).reduce((s,i)=>(s[i]=!1,s),{});u(t),j("")},f=t=>{const s=t.target.nextSibling;s&&s.classList.add("text-dark-grayish-red")},g=t=>{const s=t.target.nextSibling;s&&s.classList.remove("text-dark-grayish-red")},v=Object.entries(N).map(([t,s],i)=>({[t]:s,originalIndex:i})),E=()=>{const t=Object.entries(x).reduce((s,[i,h])=>(h===!0&&(s[i]=h),s),{});m(t)},I=t=>{k(t.target.value),j(t.target.value)},S=()=>{k(""),j("")},T=v.map((t,s)=>({...t,originalIndex:s})).filter(t=>{const s=Object.keys(t)[0],i=Object.values(t)[0];return x[s]===!0?!0:typeof i=="string"?i.toLowerCase().includes($.toLowerCase()):!1}).map(({originalIndex:t,...s})=>s);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap",children:[e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"mx-4 flex items-center",children:[e.jsx("input",{type:"text",value:b,onChange:I,placeholder:"Search",className:"border my-2 block w-full rounded-lg border-black bg-transparent p-2.5 text-sm text-gray-900 focus:border-sea-foam-green focus:ring-sea-foam-green dark:border-gray-600 dark:bg-transparent dark:text-black dark:placeholder-gray-400 dark:focus:border-dark-grayish-red dark:focus:ring-dark-grayish-red"}),b&&e.jsx("button",{onClick:S,className:"border ml-2 border-black p-2.5 text-xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",children:e.jsx(y,{icon:_})})]})}),T.map(t=>e.jsx("ul",{className:"items-center",children:e.jsx("li",{className:"",children:e.jsxs("div",{className:"flex items-center pl-4",children:[x.hasOwnProperty(Object.keys(t)[0])&&e.jsx("input",{type:"checkbox",value:"",checked:x[Object.keys(t)[0]],onChange:()=>O(Object.keys(t)[0]),onMouseEnter:f,onMouseLeave:g,className:"h-4 w-4 rounded text-sea-foam-green dark:text-red-600"}),e.jsx("label",{className:"ml-2 py-2  text-sm text-black hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:()=>O(Object.keys(t)[0]),children:String(Object.values(t)[0])})]})})},Object.keys(t)[0]))]}),e.jsxs("div",{className:"text-md ml-4 mt-1 flex",children:[e.jsx("div",{className:"mr-2 cursor-pointer hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:E,children:"Apply"}),e.jsx("div",{className:"cursor-pointer hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:C,children:"Clear"})]})]})}function te({darkMode:N,title:m}){const[L,x]=d.useState(40),[u,$]=d.useState(!1),[j,b]=d.useState([]),[k,w]=d.useState([]),[O,C]=d.useState(!0),[f,g]=d.useState(!0),[v,E]=d.useState({}),[I,S]=d.useState([]),[T,t]=d.useState({}),s="https://caesar-chin-photography.s3.amazonaws.com";A.useEffect(()=>{fetch(`${s}/${m}/index.json`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{t(r);let n=0;for(let l in r)fetch(`${s}/${m}/${l}/keys.json`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{n+=1;var o={[l]:{name:r[l],images_list:a}};n<3?b(c=>[...c,o]):w(c=>[...c,o]),E(c=>({...c,...o})),setTimeout(()=>{g(!1)},1e3)}).catch(a=>console.error(a))}).catch(r=>console.error(r))},[]),A.useEffect(()=>{window.innerWidth<770&&x(100)},[]),A.useEffect(()=>{S(j.map(()=>!1))},[j]);const i=async(r,n)=>{S(o=>{const c=[...o];return c[n]=!0,c});const l=`${s}/${m}/${r}/${r}.zip`,a=document.createElement("a");a.href=l,a.download=`${r}.zip`,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{S(o=>{const c=[...o];return c[n]=!1,c})},2e3)},h=()=>{for(let r=0;r<Math.min(3,k.length);r++)b(n=>[...n,k[r]]),w(n=>n.slice(1))},z=(r,n)=>{x(n)},M=()=>{$(!u)},F=()=>{x(30)},V=()=>{x(100)},B=r=>{if(Object.keys(r).length!==0){g(!0);var n=[];for(let l in r)n.push({[l]:v[l]});b(n),C(!1),setTimeout(()=>{g(!1)},1e3)}else if(Object.keys(r).length===0&&!O){g(!0),C(!0);const l=Object.keys(v).slice(0,3),a=Object.keys(v).slice(3),o=[],c=[];for(let p of l)o.push({[p]:v[p]});for(let p of a)c.push({[p]:v[p]});b(o),w(c),setTimeout(()=>{g(!1)},1e3)}};return e.jsxs("div",{className:"h-full",children:[e.jsx(P,{className:"flex flex-row items-center justify-center rounded-full bg-sea-foam-green shadow-none dark:bg-dark-grayish-red"}),m==="streetlandscape"?e.jsxs("div",{className:"mb-12 flex justify-center whitespace-pre text-4xl uppercase tracking-widest",children:[e.jsx("div",{children:"Street"}),e.jsx("div",{children:" & "}),e.jsx("div",{children:"Landscape"})]}):e.jsx("div",{className:"mb-12 flex justify-center text-5xl uppercase tracking-widest",children:"Concert"}),e.jsxs("div",{className:"flex flex-row justify-between ",children:[e.jsx("button",{className:"cursor-pointer",onClick:M,children:e.jsx(y,{icon:G,className:`text-3xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red ${u&&"!text-sea-foam-green dark:!text-dark-grayish-red"}`})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(y,{icon:R,onClick:F,className:"cursor-pointer text-lg hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red"}),e.jsx(D,{style:{width:"10rem",marginLeft:"1rem",marginRight:"1rem"},value:L,onChange:z,"aria-label":"resize",min:30,max:100,className:"!text-sea-foam-green dark:!text-dark-grayish-red"}),e.jsx(y,{icon:R,className:"cursor-pointer text-3xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:V})]})]}),e.jsx("div",{id:"expanded-menu",className:`${u?"visible h-auto opacity-100":"invisible h-0 opacity-0"} mt-4 w-auto rounded  border-[2px] border-solid border-black bg-white py-2 text-black shadow-md transition-all duration-200 ease-in`,children:e.jsx("div",{className:`${u?"visible h-auto opacity-100":"invisible h-0 opacity-0"} text-black`,children:e.jsx(X,{occasionList:T,handleCustomLoadedImages:B,loading:f})})}),e.jsxs("div",{children:[e.jsx("div",{className:`mt-24 flex animate-pulse flex-col items-center justify-center transition-all duration-1500 
            ${f?"block opacity-100":"hidden opacity-0"}
            `,children:e.jsx("div",{className:"flex animate-pulse items-center justify-center space-x-2",children:e.jsx("div",{className:"text-primary inline-block h-24 w-24 animate-spin rounded-full border-4 border-solid border-black border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite] dark:border-dark-grayish-red dark:border-r-transparent",role:"status",children:e.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})})}),e.jsx("div",{className:`${f?"invisible opacity-0":"visible opacity-100"} transition-all duration-1500`,children:j.map((r,n)=>{var l=r[Object.keys(r)[0]].name,a=[];let o=l.split(",");if(o.length>2){const p=l.indexOf(",",l.indexOf(",")+1);a=[l.slice(0,p),l.slice(p+1).trim()]}else o.length===2&&o[1].charAt(0)===" "&&(a[0]=o[0],a[1]=o[1].trim());var c=r[Object.keys(r)[0]].images_list;return e.jsxs("div",{className:`${f?"hidden":"block"}`,children:[e.jsxs("div",{className:"mt-8 flex w-auto flex-row items-center justify-between",children:[e.jsx("div",{className:"ml-4 flex w-auto flex-row items-center whitespace-pre",children:e.jsx("a",{href:`/photography/${m}/${Object.keys(r)[0]}`,children:e.jsxs("div",{className:"flex cursor-pointer flex-row hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red max-md:flex-col",children:[e.jsx("div",{className:"text-lg uppercase",children:a[0]}),e.jsx("div",{className:"text-lg uppercase max-md:hidden",children:", "}),e.jsx("div",{className:"text-lg uppercase",children:a[1]})]})})}),e.jsx("div",{className:"ml-4 flex w-full flex-row items-center border-white before:mr-4 before:flex-auto before:border-half before:content-[''] ",children:e.jsx("div",{className:"relative ",children:I[n]?e.jsxs("div",{className:"transition-visibility visible flex cursor-pointer flex-row items-center opacity-100 transition-opacity duration-500 ease-in-out",children:[e.jsx("div",{className:"text-md mr-2 max-md:hidden",children:"THANK YOU"}),e.jsx(y,{icon:W,className:"text-md max-md:text-2xl"})]}):e.jsxs("div",{className:"transition-visibility visible flex cursor-pointer flex-row items-center opacity-100 transition-opacity duration-500 ease-in-out",onClick:()=>i(Object.keys(r)[0],n),children:[e.jsx("div",{className:"text-md mr-2 max-md:hidden",children:"DOWNLOAD COLLECTION"}),e.jsx(y,{icon:H,className:"text-md max-md:text-2xl"})]})})})]}),e.jsx("div",{className:`${f?"hidden":"block"} transition-all duration-1500`,children:e.jsx(U,{title:m,resizeValue:L,occasion:c})})]},n)})})]}),e.jsx("div",{children:f?e.jsx("div",{}):k.length>0&&O?e.jsx("div",{className:"mb-8 mt-8 text-center",children:e.jsx("div",{className:"mt-4 cursor-pointer text-2xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:h,children:"LOAD MORE"})}):e.jsx("div",{})}),e.jsx("div",{children:e.jsx(K,{title:m})})]})}export{te as default};
