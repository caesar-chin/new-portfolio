import{F as x,b as g,c as I,d as R}from"./index.7e222333.js";import{R as r}from"./index.f824fa59.js";import{d as T,S as A,P as _}from"./index.d8fb78d3.js";import P from"./PhotographyFooter.5dd14988.js";import{j as e}from"./jsx-runtime.0209ad28.js";/* empty css                       */function M({occasion_key:h,darkMode:F,title:c}){const[v,d]=r.useState(40),[f,b]=r.useState([]),[U,w]=r.useState([]),[m,N]=r.useState(!0),[D,y]=r.useState({}),[k,p]=r.useState([]),[u,S]=r.useState({}),[C,O]=r.useState(!1),j="https://caesar-chin-photography.s3.amazonaws.com";r.useEffect(()=>{fetch(`${j}/${c}/index.json`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(s=>s.json()).then(s=>{console.log(s);var i={};h in s?(i={[h]:s[h]},S(i)):O(!0);let l=0;for(let t in i)fetch(`${j}/${c}/${t}/keys.json`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{l+=1;var n={[t]:{name:s[t],images_list:a}};l<3?b(o=>[...o,n]):w(o=>[...o,n]),y(o=>({...o,...n})),setTimeout(()=>{N(!1)},1e3)}).catch(a=>console.error(a))}).catch(s=>console.error(s))},[]),r.useEffect(()=>{window.innerWidth<770&&d(100)},[]),r.useEffect(()=>{p(f.map(()=>!1))},[f]),r.useEffect(()=>{console.log(u)},[u]);const $=async(s,i)=>{p(a=>{const n=[...a];return n[i]=!0,n});const l=`${j}/${c}/${s}/${s}.zip`,t=document.createElement("a");t.href=l,t.download=`${s}.zip`,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout(()=>{p(a=>{const n=[...a];return n[i]=!1,n})},2e3)},E=(s,i)=>{d(i)},L=()=>{d(30)},z=()=>{d(100)};return e.jsx("div",{children:C?e.jsx("div",{children:"This page doesn't exist!"}):e.jsxs("div",{className:"h-full",children:[e.jsx(T,{className:"flex flex-row items-center justify-center rounded-full bg-sea-foam-green shadow-none dark:bg-dark-grayish-red"}),e.jsx("div",{className:"mb-12 flex justify-center whitespace-pre text-4xl uppercase",children:Object.values(u)}),e.jsxs("div",{children:[e.jsx("div",{className:`mt-24 flex animate-pulse flex-col items-center justify-center transition-all duration-1500 
            ${m?"block opacity-100":"hidden opacity-0"}
            `,children:e.jsx("div",{className:"flex animate-pulse items-center justify-center space-x-2",children:e.jsx("div",{className:"text-primary inline-block h-24 w-24 animate-spin rounded-full border-4 border-solid border-black border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite] dark:border-dark-grayish-red dark:border-r-transparent",role:"status",children:e.jsx("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})})}),e.jsxs("div",{className:`${m?"invisible opacity-0":"visible opacity-100"} transition-all duration-1500`,children:[e.jsx("div",{className:"ml-4 flex flex-row justify-between",children:e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(x,{icon:g,onClick:L,className:"cursor-pointer text-lg hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red"}),e.jsx(A,{style:{width:"10rem",marginLeft:"1rem",marginRight:"1rem"},value:v,onChange:E,"aria-label":"resize",min:30,max:100,className:"!text-sea-foam-green dark:!text-dark-grayish-red"}),e.jsx(x,{icon:g,className:"cursor-pointer text-3xl hover:!text-sea-foam-green dark:hover:!text-dark-grayish-red",onClick:z})]})}),f.map((s,i)=>{var l=s[Object.keys(s)[0]].name,t=[];let a=l.split(",");if(a.length>2){const o=l.indexOf(",",l.indexOf(",")+1);t=[l.slice(0,o),l.slice(o+1).trim()]}else a.length===2&&a[1].charAt(0)===" "&&(t[0]=a[0],t[1]=a[1].trim());var n=s[Object.keys(s)[0]].images_list;return e.jsxs("div",{className:`${m?"hidden":"block"}`,children:[e.jsxs("div",{className:"mt-8 flex w-auto flex-row items-center justify-between",children:[e.jsx("div",{className:"ml-4 flex w-auto flex-row items-center whitespace-pre",children:e.jsxs("div",{className:"flex flex-row max-md:flex-col ",children:[e.jsx("div",{className:"text-lg uppercase",children:t[0]}),e.jsx("div",{className:"text-lg uppercase max-md:hidden",children:", "}),e.jsx("div",{className:"text-lg uppercase",children:t[1]})]})}),e.jsx("div",{className:"ml-4 flex w-full flex-row items-center border-white before:mr-4 before:flex-auto before:border-half before:content-[''] ",children:e.jsx("div",{className:"relative ",children:k[i]?e.jsxs("div",{className:"transition-visibility visible flex cursor-pointer flex-row items-center opacity-100 transition-opacity duration-500 ease-in-out",children:[e.jsx("div",{className:"text-md mr-2 max-md:hidden",children:"THANK YOU"}),e.jsx(x,{icon:I,className:"text-md max-md:text-2xl"})]}):e.jsxs("div",{className:"transition-visibility visible flex cursor-pointer flex-row items-center opacity-100 transition-opacity duration-500 ease-in-out",onClick:()=>$(Object.keys(s)[0],i),children:[e.jsx("div",{className:"text-md mr-2 max-md:hidden",children:"DOWNLOAD COLLECTION"}),e.jsx(x,{icon:R,className:"text-md max-md:text-2xl"})]})})})]}),e.jsx("div",{className:`${m?"hidden":"block"} transition-all duration-1500`,children:e.jsx(_,{title:c,resizeValue:v,occasion:n})})]},i)})]})]}),e.jsx("div",{children:e.jsx(P,{title:c})})]})})}export{M as default};
